<div id="contest_create" class="segment-container">
    <h2>Warning: currently doesn't really work</h2>
    <h2>{{getText "createContest"}}</h2>
    <form id="contest_form">
        <label class="block my-2">
            <span class="form-label">{{ getText "name" }}</span>
            <input id="contest_title" type="text" class="form-input" required>
        </label>
        <button type="submit" class="btn btn-blue">{{ getText "button.create" }}</button>
    </form>
    <script>
        async function createContest(e) {
            e.preventDefault();
            let name = document.getElementById("contest_title").value;
            let res = await bundled.postCall("/contest/create", {name})
            if(res.status === "error") {
                bundled.apiToast(res)
                return
            }
            window.location.assign(`/contests/${res.data}`)
        }
        document.getElementById("contest_form").addEventListener("submit", createContest)
    </script>
</div>